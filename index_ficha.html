<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Buscar Ficha - Control Voley</title><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;900&display=swap" rel="stylesheet"><style>:root{--c1:#001F3F;--c2:#0074D9;--bg:#f0f8ff}body{font-family:'Inter',sans-serif;background-color:var(--bg);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.azul-marino-bg{background-color:var(--c1)}.azul-electrico-text{color:var(--c2)}.shadow-lg-azul{box-shadow:0 0 20px -5px rgba(0,31,63,0.4)}.banner-header{background-image:url('img/banner.png');background-size:cover;background-position:center;min-height:250px;width:100%}.athlete-card:hover{box-shadow:0 4px 12px rgba(0,116,217,0.2);transform:translateY(-2px)}</style></head><body oncontextmenu="return false">
    <div class="banner-header"></div>
    <div class="container mx-auto p-4 md:p-8">
        <header class="mb-8 flex flex-col md:flex-row justify-between items-center border-b pb-4">
            <div class="flex items-center space-x-4">
                <a href="index_menu.html" class="text-gray-600 hover:text-blue-600 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"/></svg>
                </a>
                <h1 class="text-3xl font-extrabold text-gray-900">Buscar Ficha Técnica</h1>
            </div>
            <button onclick="logout()" class="mt-4 md:mt-0 py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 shadow-md transition">Cerrar Sesión</button>
        </header>
        <div class="bg-white p-6 rounded-xl shadow-lg-azul">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">Selecciona un Atleta</h2>
            <input type="text" id="sAi" placeholder="Buscar por nombre o cédula..." onkeyup="fAl()" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3 mb-6 focus:ring-blue-500 focus:border-blue-500 border">
            <div id="aLc" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[500px] overflow-y-auto">
                <p id="lMs" class="col-span-full text-center py-8 text-gray-500 italic">Validando seguridad...</p>
            </div>
        </div>
    </div>

<script type="module">
window.addEventListener('keydown',function(e){if(e.keyCode==123||(e.ctrlKey&&e.shiftKey&&(e.keyCode==73||e.keyCode==74||e.keyCode==67))||(e.ctrlKey&&e.keyCode==85)){e.preventDefault();return false;}});
import{initializeApp as _0x1}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import{getAuth as _0x2,onAuthStateChanged as _0x3,signOut as _0x4}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";import{getFirestore as _0x5,collection as _0x6,doc as _0x7,onSnapshot as _0x8,query as _0x9,where as _0x10,getDoc as _0x11}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
const _0x0=['\x63\x6c\x75\x62\x5f\x61\x74\x68\x6c\x65\x74\x65\x73','\x75\x73\x65\x72\x73','\x69\x6e\x64\x65\x78\x2e\x68\x74\x6d\x6c','\x63\x6c\x75\x62\x49\x64','\x69\x6e\x64\x65\x78\x5f\x64\x61\x74\x6f\x73\x2e\x68\x74\x6d\x6c\x3f\x69\x64\x3d'];
const _0xa=i=>document.getElementById(i);let _tD=null;let _aL=[];
const _0xb=i=>{if(!i)return'N/A';const a=new Date(i),o=new Date();let s=o.getFullYear()-a.getFullYear();return(o.getMonth()<a.getMonth()||o.getMonth()===a.getMonth()&&o.getDate()<a.getDate())&&s--,s};
const _0xc=(_f)=>{const a=_0x1({apiKey:"AIzaSyB5RB7mm1j-0gjCNTUEJTkyEqLjyZ3C7ws",authDomain:"datacontrolvoley-ff556.firebaseapp.com",projectId:"datacontrolvoley-ff556",storageBucket:"datacontrolvoley-ff556.firebasestorage.app",messagingSenderId:"516409072606",appId:"1:516409072606:web:132538dba358a077d71b4f"}),s=_0x2(a),r=_0x5(a);_0x3(s,async(u)=>{if(u){try{const d=await _0x11(_0x7(r,_0x0[1],u.uid));_tD=d.exists()?d.data().teamId:null;if(_tD){_0xa('lMs').innerText="Cargando nómina...";const q=_0x9(_0x6(r,_0x0[0]),_0x10(_0x0[3],"==",_tD));_0x8(q,(sn)=>{_aL=[];sn.forEach(x=>{_aL.push({id:x.id,...x.data()})});_rL(_aL)})}else{_0x4(s);location.href=_0x0[2]}}catch(e){console.error(e)}}else{location.href=_0x0[2]}});
function _rL(p){const c=_0xa('aLc');c.innerHTML='';if(!p.length){c.innerHTML='<p class="col-span-full text-center py-8 text-gray-500">No hay registros.</p>';return}p.forEach(k=>{const age=_0xb(k.fechaNacimiento);const h=`<div onclick="rT('${k.id}')" class="athlete-card cursor-pointer bg-white p-4 rounded-lg shadow-md border-l-4 border-blue-600 transition duration-200"><p class="text-lg font-bold azul-electrico-text">${k.nombre} ${k.apellido}</p><p class="text-sm text-gray-600">CI: ${k.cedulaIdentidad||'N/A'}</p><p class="text-sm text-gray-500">Edad: ${age} años</p><span class="inline-block mt-2 text-xs font-semibold text-gray-700">Ver Ficha →</span></div>`;c.insertAdjacentHTML('beforeend',h)})}
window.fAl=()=>{const t=_0xa('sAi').value.toLowerCase();const f=_aL.filter(x=>(x.nombre+' '+x.apellido).toLowerCase().includes(t)||(x.cedulaIdentidad&&x.cedulaIdentidad.toString().includes(t)));_rL(f)};
window.rT=(id)=>{location.href=_0x0[4]+id};
window.logout=async()=>{await _0x4(s);localStorage.removeItem('currentClub');location.href=_0x0[2]}};_0xc();</script></body></html>
